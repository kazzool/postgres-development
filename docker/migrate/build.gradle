/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.1.1/samples
 */
plugins {
    id "java"
    id "org.flywaydb.flyway" version "7.12.1"
}

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.flywaydb:flyway-core:7.12.1"
    runtimeOnly "org.postgresql:postgresql:42.2.23"
}

flyway {
    url = getProperty("${env()}.flyway.url")
    user = getProperty("${env()}.flyway.user")
    password = getProperty("${env()}.flyway.password")
    schemas = ['public']
    baselineVersion = "00.000.000"
    locations = ['classpath:db/migration']
}

def env() {
    project.hasProperty('env') ? project.properties['env'] : 'local'
}